# Maintainer: Tim Harding <tim@timharding.co>
pkgname='neophyte'
pkgver='0.2.4'
pkgrel=1
pkgdesc='A WebGPU-rendered Neovim GUI'
arch=('x86_64')
url="https://github.com/tim-harding/$pkgname"
license=('MIT')
makedepends=('git' 'rust')
provides=("$pkgname=$pkgver")
conflicts=("$pkgname-bin")
source=("$pkgname::git+$url.git")
sha256sums=('SKIP')

build() {
    cd "$pkgname"
    cargo build --release
}

package() {
    cd "$pkgname"

    install \
	--mode=0755 \
	-D --target-directory="$pkgdir/usr/bin/" \
	./target/release/$pkgname

    install \
	--mode=0644 \
	-D --target-directory="$pkgdir/usr/share/licenses/$pkgname/" \
	./LICENSE

    install \
	--mode=0644 \
	-D --target-directory="$pkgdir/usr/share/doc/$pkgname/" \
	./README.md
}
